<!--dropdown课程和教授还没有做呢-->
<Header></Header>
<view class='new-review'>
  <view class='chinese'>新建评价</view>
  <view class='english'>New Review</view>
</view>

<view class='dropbox-block'>
  <text class='lables'>课程</text>
  <view class='picker-box'>
    <input placeholder="e.g ITP115" bindinput="saveCourseCode" value="{{courseCode}}"/>
    <picker-view indicator-style="height: 50px;" style="width: 314rpx; height: 320rpx; margin-top: 0rpx;" bindchange="selectCourse" hidden="{{hidden1}}">
      <picker-view-column style="height: 300rpx">
        <view wx:for="{{course_data}}" wx:key="index" style="line-height: 100rpx; text-align: center;">{{item.courseCode}}</view>
      </picker-view-column>
    </picker-view>
  </view>
  <navigator class="add" url="pages/addClass/addClass">
    <image class='imageadd' src="/icon/others/add.svg"></image>
  </navigator>
</view>

<view class='dropbox-block'>
  <text class='lables'>教授</text>
  <view class='picker-box'>
    <input placeholder="e.g Tommy Trojan" bindinput="saveProfName" value="{{professorName}}"/>
    <picker-view indicator-style="height: 50px;" style="width: 314rpx; height: 320rpx; margin-top: 0rpx;" bindchange="selectProfessor" hidden="{{hidden2}}">
      <picker-view-column style="height: 300rpx">
        <view wx:for="{{professor_data}}" wx:key="index" style="line-height: 100rpx; text-align: center;">{{item.professorName}}</view>
      </picker-view-column>
    </picker-view>
  </view>
  <navigator class="add" url="pages/addProfessor/addProfessor">
    <image class='imageadd' src="/icon/others/add.svg"></image>
  </navigator>
</view>

<block wx:for='{{evaluateTitle}}' wx:key='idx' wx:for-index='idx'>
  <view class='rate-block'>
    <view class='lables'>{{item}}</view>
    <!--星星评价  -->
    <view class='star-block'>
      <!--内层循环展示每个评价条目的星星  -->
      <block wx:for="{{stars}}" wx:key='index'>
        <view class="star" data-score="{{item + 1}}" data-idx='{{idx}}' bindtap="selectStar">
          <image class="imagestar" src="{{scores[idx] > item ?selectedSrc: unselectedSrc}}"></image>
        </view>
      </block>
    </view>
  </view>
</block>

<view class='dropbox-block'>
  <text class='lables'>评价</text>
  <view class='picker-box' bindtap="showDialogBtn">{{content}}</view>
</view>

<!--弹窗-->
<view class="modal-mask" bindtap="hideModal" catchtouchmove="preventTouchMove" wx:if="{{showModal}}"></view>
<view class="modal-dialog" wx:if="{{showModal}}">
  <view class="modal-title">评价</view>
  <view class="modal-content">
    <view class="modal-input">
      <textarea bindinput="saveContent" value="{{content}}" auto-height="true" class="input"></textarea>
    </view>
  </view>
  <view class="modal-footer">
    <view class="btn-cancel" bindtap="onCancel" data-status="cancel">取消</view>
    <view class="btn-confirm" bindtap="onConfirm" data-status="confirm">确定</view>
  </view>
</view>

<view class='dropbox-block'>
  <text class='lables'>成绩 (选填) </text>
  <view class='picker-box'>
    <picker bindchange="bindPickerChange" value="{{gradeIndex}}" range="{{gradeArray}}">
      <view class="picker">{{gradeArray[gradeIndex]}}</view>
    </picker>
  </view>
</view>

<view class="label">
  <label><switch type="checkbox" checked="{{anonymous}}" class="checkbox-size" bindchange="changeAnonymous"/>
    匿名发布评价
  </label>
</view>

<button class="buttonsubmit" bindtap="submitQuestion">
  <text class="buttonname">提交评价</text>
</button>

<BottomNav></BottomNav>